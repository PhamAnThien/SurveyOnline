@model SurveyOnline.Models.SurveySubject
@{
    ViewBag.Title = "SurveyPreview";
    Layout = "~/Areas/Management/Views/Shared/_Layout.cshtml";
}
<div class="header bg-primary pb-6">
    <div class="container-fluid">
        <div class="header-body">
            <div class="row align-items-center py-4">
                <div class="col-lg-6 col-7">
                    <h6 class="h2 text-white d-inline-block mb-0">Preview</h6>
                    <nav aria-label="breadcrumb" class="d-none d-md-inline-block ml-md-4">
                        <ol class="breadcrumb breadcrumb-links breadcrumb-dark">
                            <li class="breadcrumb-item"><a href="#"><i class="fas fa-home"></i></a></li>
                            <li class="breadcrumb-item"><a href="#">Management</a></li>
                            <li class="breadcrumb-item active" aria-current="page">Survey Preview</li>
                        </ol>
                    </nav>
                </div>

            </div>
        </div>
    </div>
</div>
<div class="container-fluid mt--6">
    <div class="row justify-content-center">
        <div class=" col ">
            <div class="card">
                <div class="card-header bg-transparent">
                    <h3 class="mb-0">Preview</h3>
                </div>
                <div class="card-body">
                    <div class="">

                        <div>
                            <h1>
                                @Model.SubjectName
                            </h1>
                        </div>
                        <div>
                            @Model.Description
                        </div>
                        <form class="" action="">
                            @foreach (var item in Model.SurveyGroups)
                            {
                                <div class="bg-blue p-4 mb-3">
                                    @item.Name
                                </div>
                                <div>
                                    @foreach (var Question in item.QuestionSurveys)
                                    {
                                        <div class="form-group condition" id="div_@Question.ID">
                                            @Html.Label(Question.Question ?? "Hello", htmlAttributes: new { @class = "control-label" })
                                            <div class="container" id="Question_@Question.ID">

                                                @if (Question.QuestionTypeGroupID == 1)
                                                {
                                                    <table class="table border">
                                                        <thead>
                                                            <tr>
                                                                <th></th>
                                                                @foreach (var answer in Question.ListAnswer)
                                                                {
                                                                    <th>@answer.Name</th>
                                                                }
                                                            </tr>
                                                        </thead>
                                                        <tbody>

                                                            @foreach (var subQuest in Question.SubQuestions)
                                                            {
                                                                <tr>
                                                                    <td style="height:auto;">
                                                                        <p style="width:300px;">
                                                                            <span> @subQuest.Question</span>
                                                                        </p>
                                                                    </td>
                                                                    @foreach (var answer in Question.ListAnswer)
                                                                    {
                                                                        <td>
                                                                            <input type="radio" name="@subQuest.ID" value="@answer.ID" />
                                                                        </td>
                                                                    }

                                                                </tr>
                                                            }

                                                        </tbody>
                                                    </table>
                                                }
                                                else if (Question.QuestionTypeGroupID == 4)
                                                {
                                                    switch (Question.QuestionTypeID)
                                                    {
                                                        case 47:
                                                            break;
                                                        case 48:
                                                            <select class="form-control" ID="@Question.ID" name="@Question.ID">
                                                                @foreach (var answer in Question.ListAnswer)
                                                                {
                                                                    <option value="@answer.ID"> @answer.Name</option>
                                                                }
                                                            </select>
                                                            break;
                                                        case 49:
                                                            foreach (var answer in Question.ListAnswer)
                                                            {
                                                                <input type="radio" name="@Question.ID" value="@answer.ID" /> @answer.Name; <br />
                                                            }
                                                            break;
                                                        case 50: break;

                                                    }
                                                }
                                                else
                                                {
                                                    switch (Question.QuestionType.ID)
                                                    {
                                                        case 0:
                                                            <div>
                                                                This is quest
                                                            </div>
                                                            break;
                                                        case 30:
                                                            <table class="table border">
                                                                <thead>
                                                                    <tr>
                                                                        <th></th>
                                                                        @foreach (var answer in Question.ListAnswer)
                                                                        {
                                                                            <th>@answer.Name</th>
                                                                        }
                                                                    </tr>
                                                                </thead>
                                                                <tbody>

                                                                    @foreach (var subQuest in Question.SubQuestions)
                                                                    {
                                                                        <tr id="@Question.ID">
                                                                            <td style="width:600px;"> @subQuest.Question</td>
                                                                            @foreach (var answer in Question.ListAnswer)
                                                                            {
                                                                                <td>
                                                                                    <input type="radio" name="@subQuest.ID" value="@answer.ID" />
                                                                                </td>
                                                                            }

                                                                        </tr>
                                                                    }

                                                                </tbody>
                                                            </table>
                                                            break;
                                                        case 31:
                                                            <table class="table border">
                                                                @foreach (var subQuest in Question.SubQuestions)
                                                                {
                                                                    <tr id="@Question.ID">
                                                                        <td style="width:600px;"> @subQuest.Question</td>
                                                                        <td>
                                                                            <input type="radio" name="@subQuest.ID" value="1" />1
                                                                        </td>
                                                                        <td>
                                                                            <input type="radio" name="@subQuest.ID" value="2" />2
                                                                        </td>
                                                                        <td>
                                                                            <input type="radio" name="@subQuest.ID" value="3" />3
                                                                        </td>
                                                                        <td>
                                                                            <input type="radio" name="@subQuest.ID" value="4" />4
                                                                        </td>
                                                                        <td>
                                                                            <input type="radio" name="@subQuest.ID" value="5" />5
                                                                        </td>
                                                                        <td>
                                                                            <input type="radio" name="@subQuest.ID" value="1" />6
                                                                        </td>
                                                                        <td>
                                                                            <input type="radio" name="@subQuest.ID" value="2" />7
                                                                        </td>
                                                                        <td>
                                                                            <input type="radio" name="@subQuest.ID" value="3" />8
                                                                        </td>
                                                                        <td>
                                                                            <input type="radio" name="@subQuest.ID" value="4" />9
                                                                        </td>
                                                                        <td>
                                                                            <input type="radio" name="@subQuest.ID" value="5" />10
                                                                        </td>
                                                                    </tr>
                                                                }
                                                            </table>
                                                            break;
                                                        case 32:
                                                            <table class="table border">
                                                                @foreach (var subQuest in Question.SubQuestions)
                                                                {
                                                                    <tr id="@Question.ID">
                                                                        <td style="width:600px;"> @subQuest.Question</td>
                                                                        <td>
                                                                            <input type="radio" name="@subQuest.ID" value="1" />Yes
                                                                        </td>
                                                                        <td>
                                                                            <input type="radio" name="@subQuest.ID" value="2" />No
                                                                        </td>
                                                                        <td>
                                                                            <input type="radio" name="@subQuest.ID" value="3" />Uncertain
                                                                        </td>

                                                                    </tr>
                                                                }
                                                            </table>
                                                            break;
                                                        case 33:
                                                            <table class="table border">
                                                                @foreach (var subQuest in Question.SubQuestions)
                                                                {
                                                                    <tr id="@Question.ID">
                                                                        <td style="width:600px;"> @subQuest.Question</td>
                                                                        <td>
                                                                            <input type="radio" name="@subQuest.ID" value="1" />Increase
                                                                        </td>
                                                                        <td>
                                                                            <input type="radio" name="@subQuest.ID" value="2" />Same
                                                                        </td>
                                                                        <td>
                                                                            <input type="radio" name="@subQuest.ID" value="3" />Decrease
                                                                        </td>

                                                                    </tr>
                                                                }
                                                            </table>
                                                            break;
                                                        case 38:
                                                            <input type="date" class="form-control datepicker" min="1000-01-01"
                                                                   max="3000-12-31" id="@Question.ID" />
                                                            break;
                                                        case 39:
                                                            <input type="file" class="form-control-file" id="@Question.ID" />
                                                            break;
                                                        case 40:
                                                            <select class="form-control" id="@Question.ID">
                                                                <option value="0">Nam</option>
                                                                <option value="1">Nữ</option>
                                                            </select>
                                                            break;
                                                        case 41:
                                                            <select class="form-control">
                                                                <option value="0">Vietnamese</option>
                                                                <option value="1">English</option>
                                                            </select>
                                                            break;
                                                        case 42:
                                                            <input type="number" class="form-control" id="@Question.ID" />
                                                            break;
                                                        case 45:
                                                            <input type="text" class="form-control" id="@Question.ID" />
                                                            break;
                                                        case 44:
                                                            @Html.DropDownList(Question.ListSource, new SelectList(Question.ListAnswer, "ID", "Name"), htmlAttributes: new { @class = "form-control", @id = Question.ID })
                                                            break;
                                                        case 48:
                                                            @Html.DropDownList(Question.ListSource, new SelectList(Question.ListAnswer, "ID", "Name"), htmlAttributes: new { @class = "form-control", @id = Question.ID })
                                                            break;
                                                        case 51:
                                                            <input type="text" class="form-control" id="@Question.ID" />
                                                            break;
                                                        case 52:
                                                            <textarea class="form-control"></textarea>
                                                            break;
                                                        case 53:
                                                            foreach (var subquest in Question.SubQuestions)
                                                            {

                                                                <input type="text" class="form-control" />
                                                            }
                                                            break;
                                                        default:
                                                            break;
                                                    }
                                                }
                                                @if (!string.IsNullOrEmpty(@Question.Description))
                                                {
                                                    <p class="jumbotron mt-2">
                                                        @Question.Description
                                                    </p>
                                                }
                                            </div>
                                        </div>
                                    }
                                </div>
                            }
                        </form>
                        <hr />
                        <div>
                            @Model.DescriptionFooter
                        </div>

                    </div>

                </div>
            </div>
        </div>
    </div>
</div>
@section Scripts {
    <script>
        $(document).ready(function () {
            $.ajax({
                type: "GET",
                contentType: "application/json; charset=utf-8",
                url: '@Url.Action("getConditionQuestion","QuestionSurveys")',
                data: { SurveySubjectID: '@Model.ID' },
                dataType: "Json",
                success: function (data) {
                    console.log(data);
                    $.each(data, function (index, value) {
                        $.getJSON( "ajax/test.json", function( data ) {
  var items = [];
  $.each( data, function( key, val ) {
    items.push( "<li id='" + key + "'>" + val + "</li>" );
  });

  $( "<ul/>", {
    "class": "my-new-list",
    html: items.join( "" )
  }).appendTo( "body" );
});
                    });
                },
                error: function ajaxError(response) {
                    alert(response.status + ' ' + response.statusText);
                }
            });
        });
    </script>
}
